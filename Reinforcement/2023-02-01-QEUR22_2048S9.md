---
title: QEUR22_2048S9:　ゲーム2048でロバストネスを測る（その4：Julia編-newRT）
date: 2023-02-01
tags: ["QEUシステム", "メトリックス", "Julia言語", "2048", "SOART", "ディープラーニング", "強化学習", "ロバストネス"]
excerpt: julia言語とテクノメトリックスを使った強化学習とロバストネス評価
---

## QEUR22_2048S9:　ゲーム2048でロバストネスを測る（その4：Julia編-newRT）

### ～　回転 vs 明るさ　～

D先生(設定年齢65歳)   ： “やっとクライマックスに来ました。newRT法とSOART(State Of the Art RT)法を総合SN比を使って比較してみましょう。この番組は**「高齢者によるイノベーション」**です。”

![imageJRL1-29-1](/2023-02-01-QEUR22_2048S9/imageJRL1-29-1.jpg)

QEU:FOUNDER(設定年齢65歳) ： “またの名を**「回転(newRT)vs明るさ(SOART)」**です。ただし、SOART法の場合は画像の認識に当たってマルチRT法を前提としており、最初のステップで感度として明るさを使用て中間メトリックスを生成し、その後で回転を感度をして判別距離を生成します。総合SN比における誤差因子は、強化学習における関数構造です。今回は、以下のように（↓）関数を設定しています。”

```julia
# =================================================
# DQN_Solver functions
# =================================================
# crate instance for input
global model       = Chain(Dense(in_dim, 256, relu), Dense(256, 256, relu), Dense(256, out_dim)) # Use Chain if you want to stack layers
global model       = Chain(Dense(in_dim, 512, relu), Dense(512, out_dim)) # Use Chain if you want to stack layers

```

D先生： “この関数(↑)は複雑な2048ゲームとしては本来は簡単すぎるんですよね。でも、我々はテクノメトリックスを導入したことにより、**関数構造が著しく簡単化されていると仮定**しています。”

QEU:FOUNDER ： “その意味で**「基底条件が本当に妥当なのか？」**という問題はあります。しかし、こればかりはどうしようもないから、この大問題はスルーして・・・（笑）。いよいよnewRT法の強化学習を始めましょう。”

**(newRT 256-256)**

![imageJRL1-29-2](/2023-02-01-QEUR22_2048S9/imageJRL1-29-2.jpg)

**(newRT 512)**

![imageJRL1-29-3](/2023-02-01-QEUR22_2048S9/imageJRL1-29-3.jpg)

**(newRT 256-256)**

![imageJRL1-29-4](/2023-02-01-QEUR22_2048S9/imageJRL1-29-4.jpg)

**(newRT 512)**

![imageJRL1-29-5](/2023-02-01-QEUR22_2048S9/imageJRL1-29-5.jpg)

D先生： “う～ん・・・。またもや相変わらず**微妙な違い**だなァ・・・。”

QEU:FOUNDER ： “それでは、「比較のためのSN比」を使って違いの定量化をやりましょう。まずは、評価のために使用するデータの変換をします。”

**（BASELINE）**

![imageJRL1-29-6](/2023-02-01-QEUR22_2048S9/imageJRL1-29-6.jpg)

**(ERROR_NO1: newRT256-256)**

![imageJRL1-29-7](/2023-02-01-QEUR22_2048S9/imageJRL1-29-7.jpg)

**(ERROR_NO2: newRT512)**

![imageJRL1-29-8](/2023-02-01-QEUR22_2048S9/imageJRL1-29-8.jpg)

D先生： “例によって、この変換でも差がわからないんですけとね（笑）。”

QEU:FOUNDER ： “それでは、いよいよ定量化を行います。”

**(SOARTの場合)**

![imageJRL1-29-9](/2023-02-01-QEUR22_2048S9/imageJRL1-29-9.jpg)

**(newRTの場合)**

![imageJRL1-29-10](/2023-02-01-QEUR22_2048S9/imageJRL1-29-10.jpg)

D先生： “いままでグラフでは見えなかったが、計算によって見事な差異が出ましたね。この**「比較のための（感度と）SN比」**って、なかなか良いツールだ・・・。”

QEU:FOUNDER ： “我々はいままでグラフを「じーっと見て」、なんか「SOART法の方がパターン認識力が高い気がする」と思っていたんですよね。それがとうとう**数字になって表れてきました**。ちなみに、何度もいいますが今回のパターン問題において感度を「明るさ」にするのがより有効であった、他の問題ではどうなるかはわかりません。”

D先生： “強化学習って著しく多くのパラメタがあるので、パラメタ設計ができればいいですね。そうすると**SN比に「加法性」が必要**となりますが・・・。”

QEU:FOUNDER ： “「改善のためのSN比」ってやつね。あとはご自分で考えてください。”


## ～　まとめ　～

### ・・・　やっと、QEU強化学習編のヤマを越えました　・・・

C部長 : “FOUNDER、お疲れ様です。強化学習の中にタグチメソッドを組み込む実験について、大体成功のメドがついたようですね。”

![imageJRL1-29-11](/2023-02-01-QEUR22_2048S9/imageJRL1-29-11.jpg)

QEU:FOUNDER ： “「メド（目途）」といってもねぇ・・・。小生はここまでやった。**「あとは勝手にやって」って感じ**・・・(笑)。”

C部長 : “FOUNDERって、**タグチメソッドなんか「なくなっても良い」**って考えているでしょう？”

QEU:FOUNDER ： “そうだよ。世の中を支配する**「ゲームが変わっちゃった」**からね。それでも、QEUシステムにおけるテクノメトリックスのコンセプトにあるように、**昔流行ったアナログ技術においても適切にエッセンスを抽出し、DNAを残したい**と思っているんです。ところで、今話題のウイルスに関連するけど、このような話（↓）を知っていますか？”

![imageJRL1-29-12](/2023-02-01-QEUR22_2048S9/imageJRL1-29-12.jpg)

C部長 : “えっ！？人間や動物の進化にはウイルスが関係している？**ほとんどの生物に存在するミトコンドリアは、10億年前は細菌だった！？**”

QEU:FOUNDER ： “**共生**の結果そうなったらしいね。生物の進化には外部のモノを取り込んで行われるケースもあります。タグチメソッドもそうなればいいと思うんですよ。**その構成要素がバラバラになって、それが他の主流の概念に組み込まれて進化をもたらす**。共生が必要なのはタグチメソッドだけじゃないよ。TPSもそう・・・。”

C部長 : “またTPSのことを言う・・・。アレをいいモノであると考えている人もいるんだし・・・。”

QEU:FOUNDER ： “・・・でもね、タグチメソッドもTPSも**「（ある人達が）売り込んでいるほど、いいものではない」**ことは間違いないと思うよ。なぜそう言えるのかというと、社会の進化により「ゲームが変っちゃった」からです。”

C部長 : “ゲームが変わったのは認めます。”

QEU:FOUNDER ： “だったら、もう**「融けちゃえば？」**と思うわけ・・・。(それらが)融けて困るのは**「それに寄生している人」だけ**でしょ？・・・えっ・・・と・・・、話を戻そう。強化学習の件はこれで終わりでもいいが、ウイニングランとして例のSLIDERTについても、同様にパフォーマンス評価をしたいと思います。追加で、もう少しだけ続きます。”
